<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sprDialogueBox</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-1000</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Variables
alpha = 0; //Fade in the text box over time
print = ""; //The text to be printed to the screen
time = 0; //Frames passed since object was created
depth = depth - instance_number(objDialogueBox); //Ensures new text object will draw over older ones

lineCount = 0;
stringLength = 0;

workingSentence = "";
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>displaySpeed = originalDisplaySpeed;
//time = 0;
textToDisplay = string_copy(textToDisplay, time, textLength);
displaySpeed = originalDisplaySpeed;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Render text box and text
draw_set_alpha(alpha);

if(alpha &lt; 1)
    alpha += displaySpeed/10;
else
    alpha = 1;
    
draw_set_font(fntTextBox);
//My way
//draw_sprite_ext(sprDialogueBox, 0, room_width / 2, room_height / 1.2, 5, 3, 0, -1, 1);
draw_self();
//Original way to draw it
/*
draw_set_color(c_gray);
draw_rectangle(x, y, x + boxWidth, y + boxHeight, 0);
draw_set_color(c_black);
draw_rectangle(x, y, x + boxWidth, y + boxHeight, 1); */

draw_set_halign(fa_left); //Draws from the left
draw_set_valign(fa_top); //Will draw from top

draw_set_colour(c_red);
draw_text_ext
(
    self.bbox_left + padding + 16,
    self.bbox_top + padding,
    print,
    fontSize + (fontSize / 2),
    maxLength - 75
);

//Draw face of NPC
//draw_sprite(objBoyNPC, 0, room_width - objBoyNPC.sprite_width * 3, room_height - objBoyNPC.sprite_height * 3);

draw_set_alpha(1);
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Add letters over time
if(time &lt; textLength)
{
    time += displaySpeed;
    print = string_copy(textToDisplay, 0, time);
}
if(time &gt; string_length(textToDisplay) &amp;&amp; gamepad_button_check_pressed(0, gp_face1) &amp;&amp; !quickMessage) { //Move onto interacting with the NPC
    shouldShowChoices = true;
}
if(gamepad_button_check_pressed(0, gp_face2) &amp;&amp; time &lt; textLength) { //Speed up conversation
    displaySpeed = 1000;
    alarm[0] = 3;
}
//Checks to see if it's at the end of the last line, and it's a space
if((maxLength - 60) * 11.75 &lt;= string_width(print) &amp;&amp; string_char_at(print, time) == " ")
{
    displaySpeed = 0;
    if(gamepad_button_check_pressed(0, gp_face1)) //Allows the player to move through to the next box
    {
        textToDisplay = string_copy(textToDisplay, time, textLength);
        time = 0;
        displaySpeed = originalDisplaySpeed;
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
